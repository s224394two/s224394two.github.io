[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "What is the cause of the increase in UFO sightings?",
    "section": "",
    "text": "Since the beginning of the 20th century we have reported UFO sightings. What this project is trying to do is to look at the trend of the UFO sightings and try to explain them in a way which is not attributed to an increase in actual UFOs. Since a major part of the sightings are in the US (which already debunks the idea of UFOs actually being aliens) we are only focusing on that data.\n\nTime series plot\nThe first thing relevant to look at is the development of number of UFO sightings over the last decade. The first sighting in the data set is from 1910. But since they are so few sightings we choose to look at sightings from 1950 to 2014. Other than the number of sightings we also look at different popular shows and movies of different years to see if we might see their impact\n\n\nCode\nimport pandas as pd\nfrom bokeh.plotting import figure, show\nfrom bokeh.models import ColumnDataSource, HoverTool, LabelSet\nfrom bokeh.palettes import Category20\n\n# === Load and preprocess data ===\ndata = pd.read_csv(\"../Website/data/complete.csv\", on_bad_lines='skip')\ndata[\"datetime\"] = pd.to_datetime(data[\"datetime\"], errors=\"coerce\")\ndf = data[data[\"country\"] == \"us\"].dropna(subset=[\"datetime\", \"shape\"])\ndf[\"year\"] = df[\"datetime\"].dt.year\n\n# === Compute total sightings per year (all shapes) ===\ntotals = df.groupby(\"year\").size()\ntotals = totals[totals.index &gt;= 1960]\n\n# === Full shape distribution (pivot) ===\nshape_counts_all = df.groupby([\"year\", \"shape\"]).size().unstack(fill_value=0)\n\n# === Select top 5 shapes, group rest as 'uncommon shapes' ===\nshape_totals = shape_counts_all.sum().sort_values(ascending=False)\ntop_shapes = shape_totals.head(5).index\nother_shapes = shape_totals.index.difference(top_shapes)\n\n# Create new DataFrame for top 5 + 'uncommon shapes'\nshape_counts = shape_counts_all[top_shapes].copy()\nshape_counts[\"uncommon shapes\"] = shape_counts_all[other_shapes].sum(axis=1)\nshape_counts = shape_counts[shape_counts.index &gt;= 1960]\n\n# === Stack plot source ===\nfinal_shapes = [\"uncommon shapes\"] + list(top_shapes)  # Move to bottom\nsource_data = {\"year\": shape_counts.index.tolist()}\ncolors = Category20[20][:len(final_shapes)]\nfor s in final_shapes:\n    source_data[s] = shape_counts[s].values\nsource = ColumnDataSource(source_data)\n\n# === Emoji map ===\nemoji_map = {\n    \"light\": \"üí°\", \"triangle\": \"üî∫\", \"circle\": \"‚≠ï\",\n    \"fireball\": \"üî•\", \"unknown\": \"‚ùì\", \"uncommon shapes\": \"üõ∏\"\n}\n\n# === Media events ===\nmedia = {\n    1951: \"The Day the Earth Stood Still\",\n    1977: \"Close Encounters\", 1979: \"Alien\", 1982: \"E.T.\",\n    1986: \"Aliens\", 1993: \"The X-Files (TV)\", 1996: \"Independence Day\",\n    1998: \"X-Files: The Movie\", 2002: \"Signs\",\n    2009: \"District 9\", 2014: \"Edge of Tomorrow\"\n}\nmedia_years = [y for y in media if y in totals.index]\nmedia_source = ColumnDataSource(data=dict(\n    year=media_years,\n    count=[totals[y] for y in media_years],\n    title=[media[y] for y in media_years]\n))\n\n# === Bokeh figure ===\nxmin, xmax = shape_counts.index.min(), shape_counts.index.max()\np = figure(\n    width=1000, height=500,\n    x_range=(1960, xmax + 3),\n    y_range=(0, shape_counts.sum(axis=1).max() * 1.15),\n    background_fill_color=\"#0f0f1f\",\n    title=\"U.S. UFO Shape Distribution Over Time (All Shapes)\",\n    tools=\"\", toolbar_location=None\n)\n\n# === Area stack ===\np.varea_stack(\n    stackers=final_shapes,\n    x=\"year\",\n    color=colors,\n    legend_label=[f\"{emoji_map.get(s, 'üõ∏')} {s}\" for s in final_shapes],\n    source=source\n)\n\n# Then reverse the legend manually (Bokeh workaround)\np.legend.items = list(reversed(p.legend.items))\n\n\n\n\n# === Media dots ===\nmedia_renderer = p.circle(\n    'year', 'count',\n    source=media_source,\n    size=12,\n    fill_color=\"#ffd700\",\n    line_color=\"white\",\n    line_width=1.3,\n    legend_label=\"Media Event\",\n    level=\"overlay\"\n)\np.add_tools(HoverTool(\n    renderers=[media_renderer],\n    tooltips=[(\"Movie\", \"@title\"), (\"Year\", \"@year\"), (\"Sightings\", \"@count\")],\n    mode=\"mouse\", point_policy=\"follow_mouse\"\n))\n\n# === Emojis ===\nrecent = shape_counts.tail(25)\nmax_h = recent.sum(axis=1).max()\nx_pts, y_pts, emojis, sizes = [], [], [], []\nfor i, s in enumerate(final_shapes):\n    yr = recent[s].idxmax()\n    below = recent[final_shapes[:i]].loc[yr].sum()\n    band = recent[s].loc[yr]\n    x_pts.append(yr)\n    y_pts.append(below + band / 2)\n    emojis.append(emoji_map.get(s, \"üõ∏\"))\n    sizes.append(f\"{10 + band / max_h * 16 - 4:.0f}pt\")\n\nemoji_source = ColumnDataSource(dict(x=x_pts, y=y_pts, emoji=emojis, size=sizes))\np.add_layout(LabelSet(\n    x='x', y='y', text='emoji', source=emoji_source,\n    text_font_size='size', text_align=\"center\", text_baseline=\"middle\"\n))\n\n# === Style ===\np.xaxis.axis_label = \"Year\"\np.yaxis.axis_label = \"Sightings\"\np.xaxis.major_label_text_color = \"#cccccc\"\np.yaxis.major_label_text_color = \"#cccccc\"\np.xaxis.axis_line_color = \"#333333\"\np.yaxis.axis_line_color = \"#333333\"\np.xgrid.grid_line_color = None\np.ygrid.grid_line_color = \"#222244\"\np.title.text_color = \"#eeeeee\"\np.title.text_font_size = \"16pt\"\np.legend.label_text_color = \"#ffffff\"\np.legend.background_fill_alpha = 0\np.legend.location = \"top_left\"\np.legend.label_text_font_size = \"9pt\"\n\nshow(p)\n\n\nC:\\Users\\anton\\AppData\\Local\\Temp\\ipykernel_110496\\2592778990.py:7: DtypeWarning:\n\nColumns (5,9) have mixed types. Specify dtype option on import or set low_memory=False.\n\nBokehDeprecationWarning: 'circle() method with size value' was deprecated in Bokeh 3.4.0 and will be removed, use 'scatter(size=...) instead' instead.\n\n\n\n\nHeatmap\n\n\nCode\nimport pandas as pd\nimport numpy as np\nimport matplotlib.pyplot as plt\ndata = pd.read_csv(\"data/complete.csv\", on_bad_lines='skip')\ndata['datetime'] = pd.to_datetime(data['datetime'], errors='coerce')\ndf=data[data[\"country\"]==\"us\"].sort_index(level=\"datetime\")\ndf = df.dropna(subset=['datetime'])\ndf = df.sort_values(by='datetime').reset_index(drop=True)\ndf=df.dropna()\n\nfrom folium import plugins\nfrom folium.plugins import HeatMap\nimport folium\nfrom branca.element import Template, MacroElement\n\nmilbases=pd.read_csv(\"data/clean_military_bases.csv\")\nmilcomp=milbases[\"component\"]\nletters=[i[0:2] for i in milbases[\"component\"]]\n\nmilbases=milbases[(milcomp==\"AF Guard\" ) |(milcomp==\"AF Reserve\" )| (milcomp==\"AF Active\")]\n\nmilbasesl=milbases[[\"latitude\",\"longitude\"]]\n\n# Create your map\nmap_hooray = folium.Map(location=[40.80887462217925, -101.64736435756755], zoom_start=4)\n\n# Process your heatmap data\ndf['latitude'] = df['latitude'].astype(float)\ndf['longitude'] = df['longitude'].astype(float)\nheat_df = df[['latitude', 'longitude']].dropna()\nheat_data = [[row['latitude'], row['longitude']] for index, row in heat_df.iterrows()]\n\n# Add heatmap with adjusted parameters for less density\nHeatMap(\n    heat_data,\n    radius=5,             # smaller spread\n    blur=1,               # smoother blending\n    max_opacity=0.5,       # reduce color saturation\n    min_opacity=0.3,       # allow fade for low-density areas\n    use_local_extrema=False  # keep global scale\n).add_to(map_hooray)\n\n# Add circle markers for different components\nfor index, row in milbasesl[milcomp == \"AF Reserve\"].iterrows():\n    folium.CircleMarker(\n        location=[row['latitude'], row['longitude']],\n        radius=3,\n        color='magenta',\n        fill=True,\n        fill_color='magenta',\n        fill_opacity=0.6\n    ).add_to(map_hooray)\n\nfor index, row in milbasesl[milcomp == \"AF Active\"].iterrows():\n    folium.CircleMarker(\n        location=[row['latitude'], row['longitude']],\n        radius=3,\n        color='red',\n        fill=True,\n        fill_color='red',\n        fill_opacity=0.6\n    ).add_to(map_hooray)\n\nfor index, row in milbasesl[milcomp == \"AF Guard\"].iterrows():\n    folium.CircleMarker(\n        location=[row['latitude'], row['longitude']],\n        radius=3,\n        color='green',\n        fill=True,\n        fill_color='green',\n        fill_opacity=0.6\n    ).add_to(map_hooray)\n\n# Custom legend (unchanged)\ntemplate = \"\"\"\n{% macro html(this, kwargs) %}\n&lt;!doctype html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n  &lt;meta charset=\"utf-8\"&gt;\n  &lt;meta name=\"viewport\" content=\"width=device-width, initial-scale=1\"&gt;\n  &lt;title&gt;Heatmap Legend&lt;/title&gt;\n  &lt;link rel=\"stylesheet\" href=\"//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css\"&gt;\n  &lt;script src=\"https://code.jquery.com/jquery-1.12.4.js\"&gt;&lt;/script&gt;\n  &lt;script src=\"https://code.jquery.com/ui/1.12.1/jquery-ui.js\"&gt;&lt;/script&gt;\n  &lt;script&gt;\n  $( function() {\n    $( \"#maplegend\" ).draggable({\n        start: function (event, ui) {\n            $(this).css({ right: \"auto\", top: \"auto\", bottom: \"auto\" });\n        }\n    });\n  });\n  &lt;/script&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;div id='maplegend' class='maplegend' \n    style='position: absolute; z-index:9999; border:2px solid grey; background-color:rgba(255, 255, 255, 0.8);\n     border-radius:6px; padding: 10px; font-size:14px; right: 20px; bottom: 20px;'&gt;\n     \n&lt;div class='legend-title'&gt;Legend&lt;/div&gt;\n&lt;div class='legend-scale'&gt;\n  &lt;ul class='legend-labels'&gt;\n    &lt;li&gt;&lt;span style='background:red;opacity:0.7;'&gt;&lt;/span&gt;AF Active&lt;/li&gt;\n    &lt;li&gt;&lt;span style='background:magenta;opacity:0.7;'&gt;&lt;/span&gt;AF Reserve&lt;/li&gt;\n    &lt;li&gt;&lt;span style='background:green;opacity:0.7;'&gt;&lt;/span&gt;AF Guard&lt;/li&gt;\n    &lt;li&gt;&lt;span style='background:#000000;opacity:0.7;'&gt;&lt;/span&gt;Heatmap Intensity&lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n\n&lt;style type='text/css'&gt;\n  .maplegend .legend-title {\n    text-align: left;\n    margin-bottom: 5px;\n    font-weight: bold;\n    font-size: 90%;\n    }\n  .maplegend .legend-scale ul {\n    margin: 0;\n    padding: 0;\n    float: left;\n    list-style: none;\n    }\n  .maplegend .legend-scale ul li {\n    font-size: 80%;\n    list-style: none;\n    margin-left: 0;\n    line-height: 18px;\n    margin-bottom: 2px;\n    }\n  .maplegend ul.legend-labels li span {\n    display: block;\n    float: left;\n    height: 16px;\n    width: 30px;\n    margin-right: 5px;\n    margin-left: 0;\n    border: 1px solid #999;\n    }\n  .maplegend .legend-source {\n    font-size: 80%;\n    color: #777;\n    clear: both;\n    }\n  .maplegend a {\n    color: #777;\n    }\n&lt;/style&gt;\n{% endmacro %}\n\"\"\"\n\n# Add the legend to the map\nmacro = MacroElement()\nmacro._template = Template(template)\nmap_hooray.get_root().add_child(macro)\n\n# Display the map\nmap_hooray\n\n\nMake this Notebook Trusted to load map: File -&gt; Trust Notebook"
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "This site is created to share insights and updates about our social data project. Stay tuned for more information and findings!"
  }
]